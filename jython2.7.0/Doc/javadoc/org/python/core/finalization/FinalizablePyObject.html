<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_60) on Wed Apr 29 02:26:02 GMT 2015 -->
<title>FinalizablePyObject (Jython API documentation)</title>
<meta name="date" content="2015-04-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FinalizablePyObject (Jython API documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/python/core/finalization/FinalizableBuiltin.html" title="interface in org.python.core.finalization"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/python/core/finalization/FinalizablePyObjectDerived.html" title="interface in org.python.core.finalization"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/python/core/finalization/FinalizablePyObject.html" target="_top">Frames</a></li>
<li><a href="FinalizablePyObject.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.python.core.finalization</div>
<h2 title="Interface FinalizablePyObject" class="title">Interface FinalizablePyObject</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/python/modules/bz2/PyBZ2File.html" title="class in org.python.modules.bz2">PyBZ2File</a>, <a href="../../../../org/python/modules/bz2/PyBZ2FileDerived.html" title="class in org.python.modules.bz2">PyBZ2FileDerived</a>, <a href="../../../../org/python/core/PyInstance.html" title="class in org.python.core">PyInstance</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">FinalizablePyObject</span></pre>
<div class="block"><p>
 This interface allows <code>PyObject</code>s to have finalizers.
 Alternatively one can use
 <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html" title="interface in org.python.core.finalization"><code>FinalizableBuiltin</code></a>.
 </p>
 <p>
 The difference is that <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a> can be overwritten by a
 new-style subclass's <code>__del__</code>-method on Python-side, while
 <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a> is always called.
 If a Python-side finalizer exists,
 <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a> will be called after the
 Python-side finalizer has been processed.
 </p>
 <p>
 One can even implement both interfaces.
 If both interfaces are implemented, the <a href="../../../../org/python/core/finalization/FinalizeTrigger.html" title="class in org.python.core.finalization"><code>FinalizeTrigger</code></a> will
 call <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a> first and then
 <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a>. If a
 new-style subclass has an own, Python-side <code>__del__</code>-method, this
 overwrites the Java-implemented <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a>, but not
 <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a>, which will be called after
 the Python-side finalizer.
 </p>
 <p>
 If you are writing a custom built-in that shall directly
 extend <a href="../../../../org/python/core/PyObject.html" title="class in org.python.core"><code>PyObject</code></a> or some other not-yet-finalizable
 builtin and have a finalizer, follow the instructions below.
 </p>
 <p>
 <ol>
 <li>
     Let your subclass implement <a href="../../../../org/python/core/finalization/FinalizablePyObject.html" title="interface in org.python.core.finalization"><code>FinalizablePyObject</code></a>
     (or <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html" title="interface in org.python.core.finalization"><code>FinalizableBuiltin</code></a>).
 </li>
 <li>
    In every constructor call<br>
    <code>FinalizeTrigger.ensureFinalizer(this);</code><br>
 </li>
 <li>
    Write your <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a>-method however you intend it.
    (or <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a> if
    <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html" title="interface in org.python.core.finalization"><code>FinalizableBuiltin</code></a> was used)
 </li>
 <li>
    (optional)<br>
    If your finalizer resurrects the object (Python allows this) and you wish the
    finalizer to run again on next collection of the object:<br>
    In the block where the resurrection occurs, let your <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a>- or
    <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a>-method call<br>
    <code>FinalizeTrigger.ensureFinalizer(this);</code>.
    If you implement <code>__del__</code> in Python and need this functionality, you can
    simply call <code>someObject.__ensure_finalizer__()</code><br>
    Note that this is Jython-specific and should be surrounded by a
    <code>try/except</code>-block to ensure compatibility with other Python implementations.
 </li>
 </ol>
 </p>
 <p>
 Note: Regarding to object resurrection, Jython currently behaves like CPython >= 3.4.
 That means the finalizer <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a> or <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a>
 is called only the first time an object gets gc'ed. If pre-3.4.-behavior is required for
 some reason (i.e. have the finalizer called repeatedly on every collection after a
 resurrection), one can achieve this manually via step 5).
 </p>
 <p>
 The built-in function <code>__ensure_finalizer__</code> is also useful if a class acquires a
 finalizer after instances have already been created. Usually only those instances that were
 created after their class acquired the finalizer will actually be finalized (in contrast to
 CPython).
 However, one can manually tell earlier created instances to become finalizable by
 calling <code>__ensure_finalizer__()</code> on them. As mentioned above, it is recommended to
 surround this with a <code>try/except</code>-block to ensure compatibility with other Python
 implementations.
 </p>
 <p>
 Note that it is not possible to overwrite <code>__ensure_finalizer__</code> on Python side.
 If one overwrites <code>__ensure_finalizer__</code> on Python side, Jython will ignore the
 overwrite-implementation and still call the original one.
 </p>
 <p>
 It is possible to switch finalization on and off at any desired time for a certain object.
 This can be helpful if it is only necessary to have <a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()"><code>__del__()</code></a> or
 <a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a> called for certain configurations of an object.
 </p>
 <p>
 To turn off the finalizer, call</br>
 <code>((FinalizeTrigger) JyAttribute.getAttr(this, JyAttribute.FINALIZE_TRIGGER_ATTR)).clear();</code></br>
 To turn it on again, call</br>
 <code>((FinalizeTrigger) JyAttribute.getAttr(this, JyAttribute.FINALIZE_TRIGGER_ATTR)).trigger(this);</code>
 </p></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/python/core/JyAttribute.html#FINALIZE_TRIGGER_ATTR"><code>JyAttribute.FINALIZE_TRIGGER_ATTR</code></a>, 
<a href="../../../../org/python/core/finalization/FinalizableBuiltin.html#__del_builtin__()"><code>FinalizableBuiltin.__del_builtin__()</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/python/core/finalization/FinalizablePyObject.html#__del__()">__del__</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="__del__()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>__del__</h4>
<pre>void&nbsp;__del__()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/python/core/finalization/FinalizableBuiltin.html" title="interface in org.python.core.finalization"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/python/core/finalization/FinalizablePyObjectDerived.html" title="interface in org.python.core.finalization"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/python/core/finalization/FinalizablePyObject.html" target="_top">Frames</a></li>
<li><a href="FinalizablePyObject.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><a href='http://www.jython.org' target='_top'>Jython homepage</a></small></p>
</body>
</html>
